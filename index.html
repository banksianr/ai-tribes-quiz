<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Which AI Tribe Are You? Take This Quiz To Find Out!</title>

    <!-- Open Graph Meta Tags for Social Sharing -->
    <meta property="og:title" content="Which AI Tribe Are You? ü§ñ">
    <meta property="og:description" content="Take this quiz to find out if you're E/ACC, a Doomer, Techno-Optimist, or Safetyist!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://banksianr.github.io/ai-tribes-quiz/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Which AI Tribe Are You? ü§ñ">
    <meta name="twitter:description" content="Take this quiz to find out if you're E/ACC, a Doomer, Techno-Optimist, or Safetyist!">

    <!-- Google Analytics - Replace YOUR_GA_ID with your actual tracking ID -->
    <!-- Get your ID from https://analytics.google.com -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_GA_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'YOUR_GA_ID');
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #ff6b6b;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-align: center;
            font-weight: 900;
            line-height: 1.2;
        }

        .subtitle {
            text-align: center;
            color: #666;
            font-size: 1.1em;
            margin-bottom: 30px;
            font-style: italic;
        }

        .question {
            display: none;
            animation: fadeIn 0.5s;
        }

        .question.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-title {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 25px;
            font-weight: 700;
        }

        .answer-option {
            background: #f8f9fa;
            border: 3px solid transparent;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1em;
        }

        .answer-option:hover {
            background: #e9ecef;
            border-color: #667eea;
            transform: translateX(5px);
        }

        .result {
            display: none;
            text-align: center;
        }

        .result.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        .result-title {
            font-size: 2.2em;
            color: #ff6b6b;
            margin-bottom: 20px;
            font-weight: 900;
        }

        .result-description {
            font-size: 1.2em;
            line-height: 1.6;
            color: #333;
            margin-bottom: 20px;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 500px;
            margin: 30px auto;
            background: #f8f9fa;
            border: 2px solid #333;
        }

        .axis-label {
            position: absolute;
            font-weight: 700;
            color: #333;
            font-size: 0.9em;
        }

        .axis-label.top {
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .axis-label.bottom {
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .axis-label.left {
            left: 10px;
            top: 50%;
            transform: translateY(-50%) rotate(-90deg);
            transform-origin: center;
        }

        .axis-label.right {
            right: 10px;
            top: 50%;
            transform: translateY(-50%) rotate(90deg);
            transform-origin: center;
        }

        .quadrant-label {
            position: absolute;
            font-size: 1.2em;
            font-weight: 700;
            opacity: 0.3;
            pointer-events: none;
        }

        .quadrant-label.top-left {
            top: 25%;
            left: 25%;
            transform: translate(-50%, -50%);
        }

        .quadrant-label.top-right {
            top: 25%;
            right: 25%;
            transform: translate(50%, -50%);
        }

        .quadrant-label.bottom-left {
            bottom: 25%;
            left: 25%;
            transform: translate(-50%, 50%);
        }

        .quadrant-label.bottom-right {
            bottom: 25%;
            right: 25%;
            transform: translate(50%, 50%);
        }

        .center-lines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .vertical-line {
            position: absolute;
            left: 50%;
            top: 0;
            width: 1px;
            height: 100%;
            background: #ccc;
        }

        .horizontal-line {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 1px;
            background: #ccc;
        }

        .user-dot {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #ff6b6b;
            border: 3px solid white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.5);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
        }

        .progress {
            background: #e9ecef;
            height: 10px;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            width: 0%;
            transition: width 0.3s;
        }

        .restart-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 700;
            margin-top: 20px;
            transition: transform 0.2s;
        }

        .restart-btn:hover {
            transform: scale(1.05);
        }

        .coordinates {
            font-size: 1em;
            color: #666;
            margin-top: 10px;
        }

        .share-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .share-btn {
            background: white;
            border: 2px solid #667eea;
            color: #667eea;
            padding: 12px 30px;
            font-size: 1em;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .share-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .share-btn.twitter { border-color: #1DA1F2; color: #1DA1F2; }
        .share-btn.twitter:hover { background: #1DA1F2; color: white; }

        .share-btn.facebook { border-color: #4267B2; color: #4267B2; }
        .share-btn.facebook:hover { background: #4267B2; color: white; }

        .share-btn.linkedin { border-color: #0077B5; color: #0077B5; }
        .share-btn.linkedin:hover { background: #0077B5; color: white; }

        .disclaimer {
            text-align: center;
            color: #999;
            font-size: 0.9em;
            margin-top: 30px;
            font-style: italic;
        }

        #chartCanvas {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Which AI Tribe Are You?</h1>
        <p class="subtitle">Answer these questions to discover where you stand on AI!</p>

        <div class="progress">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <!-- Question 1 -->
        <div class="question active" data-question="1">
            <h2 class="question-title">1. It's Friday night and you see a new AI model was just released. You:</h2>
            <div class="answer-option" data-x="9" data-y="9">
                Immediately start training it on the largest dataset you can find and tweet "LFG"
            </div>
            <div class="answer-option" data-x="3" data-y="8">
                Play around with it casually, excited to see what it can do
            </div>
            <div class="answer-option" data-x="6" data-y="3">
                Read the safety documentation first and check if it has proper guardrails
            </div>
            <div class="answer-option" data-x="8" data-y="1">
                Feel anxious about how fast capabilities are advancing
            </div>
        </div>

        <!-- Question 2 -->
        <div class="question" data-question="2">
            <h2 class="question-title">2. When someone mentions "AI regulation," your first thought is:</h2>
            <div class="answer-option" data-x="8" data-y="0">
                "We need strict international oversight and capability limits NOW"
            </div>
            <div class="answer-option" data-x="5" data-y="3">
                "Yes, thoughtful regulation to ensure safety and fairness"
            </div>
            <div class="answer-option" data-x="3" data-y="7">
                "Markets will figure it out naturally, no need to interfere"
            </div>
            <div class="answer-option" data-x="9" data-y="10">
                "Absolutely not. Innovation doesn't wait for permission"
            </div>
        </div>

        <!-- Question 3 -->
        <div class="question" data-question="3">
            <h2 class="question-title">3. AGI (Artificial General Intelligence) will most likely:</h2>
            <div class="answer-option" data-x="10" data-y="10">
                Solve all of humanity's problems and usher in a post-scarcity utopia
            </div>
            <div class="answer-option" data-x="4" data-y="7">
                Be useful and transformative, like the internet or smartphones
            </div>
            <div class="answer-option" data-x="7" data-y="4">
                Be incredibly powerful but needs careful development to avoid catastrophe
            </div>
            <div class="answer-option" data-x="9" data-y="1">
                Pose an existential risk if we don't fundamentally change our approach
            </div>
        </div>

        <!-- Question 4 -->
        <div class="question" data-question="4">
            <h2 class="question-title">4. Your ideal timeline for achieving AGI is:</h2>
            <div class="answer-option" data-x="9" data-y="10">
                ASAP - this decade if possible
            </div>
            <div class="answer-option" data-x="5" data-y="7">
                Within 20-30 years seems reasonable
            </div>
            <div class="answer-option" data-x="7" data-y="3">
                50+ years, we need time to get safety right
            </div>
            <div class="answer-option" data-x="8" data-y="0">
                Maybe never, or at least not until we solve alignment
            </div>
        </div>

        <!-- Question 5 -->
        <div class="question" data-question="5">
            <h2 class="question-title">5. How do you feel about open-sourcing frontier AI models?</h2>
            <div class="answer-option" data-x="8" data-y="10">
                Essential for progress - information wants to be free
            </div>
            <div class="answer-option" data-x="4" data-y="7">
                Generally good for innovation and competition
            </div>
            <div class="answer-option" data-x="6" data-y="4">
                Risky - we need some controls on the most powerful models
            </div>
            <div class="answer-option" data-x="9" data-y="1">
                Dangerous - it's like open-sourcing bioweapons
            </div>
        </div>

        <!-- Question 6 -->
        <div class="question" data-question="6">
            <h2 class="question-title">6. The best comparison for advanced AI is:</h2>
            <div class="answer-option" data-x="3" data-y="6">
                The internet - transformative but we'll adapt fine
            </div>
            <div class="answer-option" data-x="10" data-y="9">
                Fire, the wheel, agriculture - foundational to a new civilization
            </div>
            <div class="answer-option" data-x="7" data-y="4">
                Nuclear energy - immensely powerful and needs proper safeguards
            </div>
            <div class="answer-option" data-x="9" data-y="2">
                Summoning an alien superintelligence we don't understand
            </div>
        </div>

        <!-- Question 7 -->
        <div class="question" data-question="7">
            <h2 class="question-title">7. AI safety research should be:</h2>
            <div class="answer-option" data-x="8" data-y="2">
                The primary focus - pause capabilities until we solve alignment
            </div>
            <div class="answer-option" data-x="6" data-y="4">
                A major priority alongside capabilities research
            </div>
            <div class="answer-option" data-x="4" data-y="6">
                Important but shouldn't slow down progress too much
            </div>
            <div class="answer-option" data-x="8" data-y="9">
                Overrated - most concerns are hypothetical fearmongering
            </div>
        </div>

        <!-- Question 8 -->
        <div class="question" data-question="8">
            <h2 class="question-title">8. If we develop superintelligent AI, it will be:</h2>
            <div class="answer-option" data-x="10" data-y="8">
                Humanity's greatest achievement and the key to our transcendence
            </div>
            <div class="answer-option" data-x="4" data-y="6">
                A powerful tool that we'll learn to use responsibly
            </div>
            <div class="answer-option" data-x="8" data-y="3">
                Extremely dangerous unless we solve alignment perfectly
            </div>
            <div class="answer-option" data-x="9" data-y="1">
                The end of humanity as we know it if we're not incredibly careful
            </div>
        </div>

        <!-- Question 9 -->
        <div class="question" data-question="9">
            <h2 class="question-title">9. What's your take on the current AI race between companies/countries?</h2>
            <div class="answer-option" data-x="9" data-y="10">
                Great! Competition drives innovation and ensures no monopoly
            </div>
            <div class="answer-option" data-x="5" data-y="7">
                Natural and mostly healthy for technological progress
            </div>
            <div class="answer-option" data-x="7" data-y="3">
                Concerning - we need more coordination on safety standards
            </div>
            <div class="answer-option" data-x="8" data-y="0">
                Terrifying - it's a race to the bottom on safety
            </div>
        </div>

        <!-- Question 10 -->
        <div class="question" data-question="10">
            <h2 class="question-title">10. Your dream outcome for AI is:</h2>
            <div class="answer-option" data-x="10" data-y="10">
                Merge with AI, achieve digital immortality, colonize the stars
            </div>
            <div class="answer-option" data-x="4" data-y="8">
                AI becomes a helpful assistant that improves quality of life
            </div>
            <div class="answer-option" data-x="6" data-y="4">
                AI that's powerful but carefully controlled and equitably distributed
            </div>
            <div class="answer-option" data-x="7" data-y="2">
                We develop AI very slowly and cautiously to avoid catastrophic risks
            </div>
        </div>

        <!-- Result -->
        <div class="result" id="result">
            <h2 class="result-title" id="resultTitle">Your AI Tribe Position</h2>
            <div class="chart-container">
                <div class="center-lines">
                    <div class="vertical-line"></div>
                    <div class="horizontal-line"></div>
                </div>
                <div class="axis-label top">GO FAST ‚ö°</div>
                <div class="axis-label bottom">SLOW DOWN üõë</div>
                <div class="axis-label left">Incremental Change</div>
                <div class="axis-label right">Transformative Power</div>

                <div class="quadrant-label top-left">Techno-Optimist<br>üòé</div>
                <div class="quadrant-label top-right">E/ACC<br>‚ö°</div>
                <div class="quadrant-label bottom-left">Safetyist<br>üõ°Ô∏è</div>
                <div class="quadrant-label bottom-right">Doomer<br>‚ö†Ô∏è</div>

                <div class="user-dot" id="userDot"></div>
            </div>
            <p class="result-description" id="resultDescription"></p>
            <p class="coordinates" id="coordinates"></p>

            <!-- Share Buttons -->
            <div class="share-buttons">
                <button class="share-btn" onclick="downloadResultImage()" style="border-color: #ff6b6b; color: #ff6b6b;">
                    üì∏ Download Result Image
                </button>
                <a href="#" id="shareTwitter" class="share-btn twitter" target="_blank">
                    üê¶ Share on Twitter
                </a>
                <a href="#" id="shareFacebook" class="share-btn facebook" target="_blank">
                    üìò Share on Facebook
                </a>
                <a href="#" id="shareLinkedIn" class="share-btn linkedin" target="_blank">
                    üíº Share on LinkedIn
                </a>
            </div>

            <button class="restart-btn" onclick="restart()">Take Quiz Again</button>
        </div>

        <p class="disclaimer">This is a fun, informal quiz - not a scientific assessment!</p>
    </div>

    <!-- Hidden canvas for generating chart image -->
    <canvas id="chartCanvas" width="800" height="900"></canvas>

    <script>
        let currentQuestion = 1;
        const totalQuestions = 10;
        let xScore = 0;
        let yScore = 0;

        function updateProgress() {
            const progress = ((currentQuestion - 1) / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function getQuadrantDescription(x, y) {
            let description = "";
            let title = "";

            // Normalize to 0-1 range for easier calculations
            const normalizedX = x / 10;
            const normalizedY = y / 10;

            // Determine primary tribe based on quadrant
            if (normalizedX < 0.5 && normalizedY >= 0.5) {
                title = "You're a Techno-Optimist! üòé";
                description = "You believe in moving fast with AI development and see it as an incremental improvement like previous technologies. You think markets and innovation will naturally solve problems, and heavy regulation will just slow down progress. Technology has always made life better - why would AI be different?";
            } else if (normalizedX >= 0.5 && normalizedY >= 0.5) {
                title = "You're E/ACC! ‚ö°";
                description = "Effective Accelerationism is your philosophy. You believe AI represents transformative, civilization-altering power, and the only way forward is FORWARD - at maximum speed. You think humanity's destiny is to transcend through technology, and anyone trying to slow this down is standing in the way of our greatest achievement.";
            } else if (normalizedX < 0.5 && normalizedY < 0.5) {
                title = "You're a Safetyist! üõ°Ô∏è";
                description = "You want to pump the brakes and focus on responsible AI development. You see AI as incrementally powerful but believe we need proper guardrails, safety research, and regulation. Moving carefully doesn't mean being anti-progress - it means ensuring progress actually benefits everyone fairly and safely.";
            } else {
                title = "You're a Doomer! ‚ö†Ô∏è";
                description = "You believe we're playing with existential fire. AI represents transformative power that could pose catastrophic risks if developed too quickly. You want international coordination, strict oversight, and potentially a pause on large AI experiments until we solve fundamental alignment problems. Better safe than extinct.";
            }

            // Add nuance based on how close to center
            const distanceFromCenter = Math.sqrt(Math.pow(normalizedX - 0.5, 2) + Math.pow(normalizedY - 0.5, 2));
            if (distanceFromCenter < 0.2) {
                description += " <br><br>You're fairly moderate though - you can see merit in multiple perspectives on AI development.";
            }

            return { title, description };
        }

        function showResult() {
            // Calculate average scores
            const avgX = xScore / totalQuestions;
            const avgY = yScore / totalQuestions;

            // Hide all questions
            document.querySelectorAll('.question').forEach(q => q.classList.remove('active'));

            // Show result
            document.getElementById('result').classList.add('active');

            // Position dot (convert 0-10 scale to pixel position)
            // Chart is 500px, need to account for margins
            const xPercent = (avgX / 10) * 100;
            const yPercent = (1 - (avgY / 10)) * 100; // Invert Y because CSS coordinates

            const dot = document.getElementById('userDot');
            dot.style.left = xPercent + '%';
            dot.style.top = yPercent + '%';

            // Get and display description
            const result = getQuadrantDescription(avgX, avgY);
            document.getElementById('resultTitle').textContent = result.title;
            document.getElementById('resultDescription').innerHTML = result.description;
            document.getElementById('coordinates').textContent =
                `Your position: Capabilities: ${avgX.toFixed(1)}/10 | Speed: ${avgY.toFixed(1)}/10`;

            // Complete progress bar
            document.getElementById('progressBar').style.width = '100%';

            // Setup share buttons
            setupShareButtons(result.title);
        }

        function setupShareButtons(resultTitle) {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(`I just took the AI Tribes Quiz and got: ${resultTitle}! Find out where you stand on AI ü§ñ`);

            // Twitter
            document.getElementById('shareTwitter').href =
                `https://twitter.com/intent/tweet?text=${text}&url=${url}`;

            // Facebook
            document.getElementById('shareFacebook').href =
                `https://www.facebook.com/sharer/sharer.php?u=${url}`;

            // LinkedIn
            document.getElementById('shareLinkedIn').href =
                `https://www.linkedin.com/sharing/share-offsite/?url=${url}`;
        }

        function downloadResultImage() {
            const canvas = document.getElementById('chartCanvas');
            const ctx = canvas.getContext('2d');
            const avgX = xScore / totalQuestions;
            const avgY = yScore / totalQuestions;
            const result = getQuadrantDescription(avgX, avgY);

            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Background gradient
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, '#667eea');
            gradient.addColorStop(1, '#764ba2');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // White card background
            ctx.fillStyle = 'white';
            ctx.roundRect(40, 40, 720, 820, 20);
            ctx.fill();

            // Title
            ctx.fillStyle = '#ff6b6b';
            ctx.font = 'bold 48px Helvetica, Arial, sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('Which AI Tribe Are You?', 400, 120);

            // Result title
            ctx.font = 'bold 40px Helvetica, Arial, sans-serif';
            ctx.fillText(result.title.replace(/[^\x00-\x7F]/g, ''), 400, 180);

            // Draw chart (500x500, centered)
            const chartX = 150;
            const chartY = 220;
            const chartSize = 500;

            // Chart background
            ctx.fillStyle = '#f8f9fa';
            ctx.fillRect(chartX, chartY, chartSize, chartSize);
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.strokeRect(chartX, chartY, chartSize, chartSize);

            // Center lines
            ctx.strokeStyle = '#ccc';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(chartX + chartSize/2, chartY);
            ctx.lineTo(chartX + chartSize/2, chartY + chartSize);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(chartX, chartY + chartSize/2);
            ctx.lineTo(chartX + chartSize, chartY + chartSize/2);
            ctx.stroke();

            // Axis labels
            ctx.fillStyle = '#333';
            ctx.font = 'bold 16px Helvetica, Arial, sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('GO FAST', 400, chartY - 10);
            ctx.fillText('SLOW DOWN', 400, chartY + chartSize + 25);

            ctx.save();
            ctx.translate(chartX - 20, chartY + chartSize/2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Incremental Change', 0, 0);
            ctx.restore();

            ctx.save();
            ctx.translate(chartX + chartSize + 20, chartY + chartSize/2);
            ctx.rotate(Math.PI / 2);
            ctx.fillText('Transformative Power', 0, 0);
            ctx.restore();

            // Quadrant labels
            ctx.font = 'bold 24px Helvetica, Arial, sans-serif';
            ctx.fillStyle = 'rgba(0,0,0,0.3)';
            ctx.fillText('Techno-Optimist', chartX + chartSize/4, chartY + chartSize/4);
            ctx.fillText('E/ACC', chartX + 3*chartSize/4, chartY + chartSize/4);
            ctx.fillText('Safetyist', chartX + chartSize/4, chartY + 3*chartSize/4);
            ctx.fillText('Doomer', chartX + 3*chartSize/4, chartY + 3*chartSize/4);

            // User dot
            const dotX = chartX + (avgX / 10) * chartSize;
            const dotY = chartY + (1 - (avgY / 10)) * chartSize;

            ctx.fillStyle = '#ff6b6b';
            ctx.beginPath();
            ctx.arc(dotX, dotY, 12, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 4;
            ctx.stroke();

            // Coordinates
            ctx.fillStyle = '#666';
            ctx.font = '18px Helvetica, Arial, sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText(`Capabilities: ${avgX.toFixed(1)}/10 | Speed: ${avgY.toFixed(1)}/10`, 400, chartY + chartSize + 60);

            // Footer
            ctx.fillStyle = '#999';
            ctx.font = 'italic 16px Helvetica, Arial, sans-serif';
            ctx.fillText('Take the quiz at: banksianr.github.io/ai-tribes-quiz', 400, 840);

            // Download the image
            canvas.toBlob(function(blob) {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'my-ai-tribe-result.png';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            });
        }

        // Polyfill for roundRect if not available
        if (!CanvasRenderingContext2D.prototype.roundRect) {
            CanvasRenderingContext2D.prototype.roundRect = function(x, y, width, height, radius) {
                this.beginPath();
                this.moveTo(x + radius, y);
                this.lineTo(x + width - radius, y);
                this.quadraticCurveTo(x + width, y, x + width, y + radius);
                this.lineTo(x + width, y + height - radius);
                this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                this.lineTo(x + radius, y + height);
                this.quadraticCurveTo(x, y + height, x, y + height - radius);
                this.lineTo(x, y + radius);
                this.quadraticCurveTo(x, y, x + radius, y);
                this.closePath();
            };
        }

        function restart() {
            currentQuestion = 1;
            xScore = 0;
            yScore = 0;

            // Hide result
            document.getElementById('result').classList.remove('active');

            // Show first question
            document.querySelector('[data-question="1"]').classList.add('active');

            updateProgress();
        }

        // Add click handlers to all answer options
        document.querySelectorAll('.answer-option').forEach(option => {
            option.addEventListener('click', function() {
                const x = parseFloat(this.getAttribute('data-x'));
                const y = parseFloat(this.getAttribute('data-y'));

                xScore += x;
                yScore += y;

                // Hide current question
                document.querySelector('.question.active').classList.remove('active');

                // Move to next question or show result
                currentQuestion++;

                if (currentQuestion <= totalQuestions) {
                    document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('active');
                    updateProgress();
                } else {
                    showResult();
                }
            });
        });

        // Initialize progress bar
        updateProgress();
    </script>
</body>
</html>
